CMAKE_MINIMUM_REQUIRED(VERSION 3.20...3.31)

IF(WIN32)
  MESSAGE(FATAL_ERROR "Your host is not UNIX")
ENDIF()

PROJECT(misc
  DESCRIPTION "Miscellanous library for C"
  HOMEPAGE_URL "https://github.com/Yuuki1578/misc"
  VERSION 0.1.0
  LANGUAGES C
)

SET(CED_SOURCE_DIR "./src")
SET(CED_INCLUDE_DIR "./include")
SET(CMAKE_C_STANDARD 23)
SET(CMAKE_C_STANDARD_REQUIRED TRUE)
SET(CMAKE_EXPORT_COMPILE_COMMANDS ON)

FILE(GLOB CED_SOURCE_FILES "${CED_SOURCE_DIR}/*.c")
INCLUDE_DIRECTORIES(${CED_INCLUDE_DIR})

ADD_LIBRARY(${PROJECT_NAME}
  STATIC
  ${CED_SOURCE_FILES}
)
